<link rel="import" href="../../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../../bower_components/polymer-decorators/polymer-decorators.html">
<link rel="import" href="../../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../../bower_components/sc-fitted-text/sc-fitted-text.html">
<link rel="import" href="../../../../shared/fonts/source-code-pro/import.html">
<link rel="import" href="../../../../shared/style/gdq-fui-styles.html">
<link rel="import" href="../../../../shared/style/gdq-text-styles.html">
<link rel="import" href="atom-nameplate-twitch-logo.html">

<dom-module id="atom-nameplate">
	<template>
		<style include="gdq-fui-styles gdq-text-styles">
			:host {
				display: flex;
				position: relative;
				height: var(--atom-nameplate-height, 35px);
				color: var(--atom-nameplate-color, #222222);
				font-family: "Khand", monospace;
				@apply --layout-horizontal;
				@apply --layout-center-center;
			}

			#wrapper {
				position: relative;
				height: 100%;
				background-color: var(--atom-nameplate-bg, #f9f9f9);
				box-sizing: border-box;
				min-width: 1px; /* needed to prevent overflow */
				flex: 1;
				@apply --layout-horizontal;
				@apply --layout-center-center;
				align-items: stretch;
			}

			#icon {
				width: var(--atom-nameplate-height, 35px);
				background-color: #004ba0;
				@apply --layout-horizontal;
				@apply --layout-center-center;
				@apply --layout-flex-none;
			}

			#cap {
				width: 10px;
				background-color: #004ba0;
				@apply --layout-flex-none;
			}

			:host([left]) #wrapper {
				@apply --layout-horizontal;
			}

			:host([right]) #wrapper {
				@apply --layout-horizontal-reverse;
			}

			:host([no-cap]) #cap {
				display: none;
			}

			:host([no-icon]) #icon {
				display: none;
			}

			#names {
				position: relative;
				@apply --layout-horizontal;
				justify-content: var(--atom-nameplate-justify, start);
				@apply --layout-center;
				@apply --layout-flex;
				white-space: nowrap;
				opacity: 0;
				font-weight: 600;
				z-index: 1;
				line-height: 1;
				top: 1px;
				min-width: 1px;
				text-shadow: var(--atom-nameplate-shadow, none);
				box-sizing: border-box;
				@apply --atom-nameplate-names;
				padding-left: 4px;
			}

			#namesTwitch {
				@apply --layout-horizontal;
			}

			#icon-img {
				content: var(--atom-nameplate-icon, url("/bundles/rpglb19-layouts/graphics/img/Cactuar-Icon.png"));

			    height: 2.2ex;
			    margin-left: -0.10ex;
			}

			#twitchLogo {
				top: 0.5px;
				margin-right: 1px;
			}

			#twitchName {
				margin-left: 4px;
			}

			.hidden {
				position: absolute;
				opacity: 0 !important;
				pointer-events: none;
			}

			[hidden] {
				display: none !important;
			}
		</style>

		<div id="wrapper">
			<div id="icon">
				<img id="icon-img" />
			</div>
			<div id="names">
				<sc-fitted-text id="namesName" text="[[name]]" align="center"></sc-fitted-text>
				<div id="namesTwitch">
					<atom-nameplate-twitch-logo id="twitchLogo"></atom-nameplate-twitch-logo>
					<sc-fitted-text id="twitchName" text="[[twitch]]" align="left"></sc-fitted-text>
				</div>
			</div>
			<div id="cap"></div>
		</div>
	</template>

	<script src="atom-nameplate.js" type="module"></script>
</dom-module>
